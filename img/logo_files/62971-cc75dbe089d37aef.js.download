"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[62971],{6527:function(e,t,r){r.r(t),r.d(t,{Snackbar:function(){return m}});var a=r(59499),n=r(43267),i=r(63123),o=r(51741),s=r(45446),c=r(41055),u=r(2397),d=r(85893);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var m=function(e){var t=e.isOpen,r=e.isSizeLimitWarning,a=void 0!==r&&r,l=e.addToCartStatus,m=e.handleSnackbarClose,f=(0,n.$G)(u.jey).t,p=(0,c.W)(),C=l.status,S=l.error,b={addToCartSuccess:f("common:actions_added_to_cart"),addToCartWarning:f("notifications:label_add_to_cart_failure"),sizeLimitWarning:f("ent:cart_size_limit_warning",{LIMIT:s.fv}),viewActionLabel:f("common:actions_view")},g=function(e){var t=e.status,r=e.isSizeLimitWarning,a=e.alertLabels;return r?a.sizeLimitWarning:t===o.MR?a.addToCartSuccess:a.addToCartWarning}({status:C,isSizeLimitWarning:a,alertLabels:b}),y={onClick:p,label:b.viewActionLabel};return(0,d.jsx)(i.DynamicSnackbar,v(v({},l.status===o.MR&&{alertAction:y}),{},{alertSeverity:C,error:S,handleSnackbarClose:m,isOpen:t&&!!C,message:g}))}},62971:function(e,t,r){r.d(t,{J:function(){return b},t:function(){return g}});var a=r(50029),n=r(87794),i=r.n(n),o=r(67294),s=r(41274),c=r(73213),u=r(59499),d=r(4730),l=r(5152),v=r(85893),m=["isActive"];function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}var p=(0,l.default)((function(){return Promise.all([r.e(98940),r.e(72578),r.e(55296),r.e(52387),r.e(38799),r.e(16944),r.e(64949),r.e(63779),r.e(80158),r.e(44497),r.e(84026),r.e(71403)]).then(r.bind(r,3956)).then((function(e){return e.AddToCartDialog}))}),{ssr:!1,loadableGenerated:{webpack:function(){return[3956]}}}),C=function(e){var t=e.isActive,r=(0,d.Z)(e,m);return(0,c.B)(t)&&(0,v.jsx)(p,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,u.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({isActive:t},r))},S=r(6527),b=function(e){var t=e.addToCartStatus,r=e.assets,a=e.eventLabel,n=e.gridItems,i=e.isAddToCartDialogActive,o=e.isPrimary,s=e.isSnackBarOpen,u=e.isSizeLimitWarning,d=e.onAddToCart,l=e.onAlertSnackbarClose,m=e.setIsAddToCartDialogActive,f=e.pageSection,p=e.listId;return(0,c.B)(r)?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(C,{assets:r,eventLabel:a,gridItems:n,isActive:i,isPrimary:o,listId:p,onAddToCart:d,pageSection:f,setIsActive:m}),(0,v.jsx)(S.Snackbar,{addToCartStatus:t,handleSnackbarClose:l,isOpen:s,isSizeLimitWarning:u})]}):null};b.defaultProps={addToCartStatus:{status:"",error:void 0},assets:null,gridItems:null};var g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.withOptimisticUpdate,r=void 0===t||t,n=e.setIsVerifying,c=(0,o.useState)(!1),u=c[0],d=c[1],l=(0,o.useState)(!1),v=l[0],m=l[1],f=(0,o.useState)(null),p=f[0],C=f[1],S=(0,o.useState)(null),g=S[0],y=S[1],O=(0,o.useState)(!0),P=O[0],L=O[1],T=(0,o.useState)(null),h=T[0],k=T[1],w=(0,o.useState)(null),j=w[0],A=w[1],I=(0,o.useState)(null),D=I[0],_=I[1],F=(0,s.gV)(),W=F.addCartItems,x=F.moveToSaveForLater,M=F.moveToPrimary,Z=F.addToCartStatus,z=F.isSizeLimitWarning,B=F.notAddedSelectVideos;(0,o.useEffect)((function(){return function(){return C(null)}}),[]);var V=(0,o.useCallback)((function(e){var t=e.assets,a=e.eventLabel,i=e.licenseId,o=e.formatType,s=e.licensePrice,c=e.cart,u=e.mutateCart,d=e.notAddedSelectVideoIds,l=e.pageSection,v=e.listId;null===n||void 0===n||n(!0),m(!0),W({cart:c,eventLabel:a,gridItems:g,isPrimary:P,itemsToAdd:t||p,licenseId:i,formatType:o,licensePrice:s,mutateCart:u,notAddedSelectVideoIds:d,withOptimisticUpdate:r,pageSection:l,listId:v})}),[p,g,W,P,n,r]),E=(0,o.useCallback)(function(){var e=(0,a.Z)(i().mark((function e(t){var r,a,o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.itemsToMove,a=t.primaryCart,o=t.mutatePrimaryCart,s=t.mutateSavedForLaterCart,null===n||void 0===n||n(!0),m(!0),e.prev=3,e.next=6,M({itemsToMove:r,primaryCart:a,mutatePrimaryCart:o,mutateSavedForLaterCart:s});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),null===n||void 0===n||n(!1);case 11:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(t){return e.apply(this,arguments)}}(),[M,n]),R=(0,o.useCallback)(function(){var e=(0,a.Z)(i().mark((function e(t){var r,a,o,s,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.itemsToMove,a=t.primaryCart,o=t.savedForLaterCart,s=t.mutatePrimaryCart,c=t.mutateSavedForLaterCart,null===n||void 0===n||n(!0),m(!0),e.prev=3,e.next=6,x({itemsToMove:r,primaryCart:a,savedForLaterCart:o,mutatePrimaryCart:s,mutateSavedForLaterCart:c});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),null===n||void 0===n||n(!1);case 11:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(t){return e.apply(this,arguments)}}(),[x,n]),U=(0,o.useMemo)((function(){return{addToCartStatus:Z,assets:p,eventLabel:D,gridItems:g,isAddToCartDialogActive:u,isPrimary:P,isSizeLimitWarning:z,isSnackBarOpen:v,onAddToCart:V,onAlertSnackbarClose:function(){return m(!1)},notAddedSelectVideos:B,setIsAddToCartDialogActive:d,pageSection:h,listId:j}}),[p,g,Z,D,j,h,u,P,z,v,B,V]),G=(0,o.useCallback)((function(e){var t=e.assets,r=e.eventLabel,a=e.gridItems,n=e.isMoveToPrimaryCart,i=void 0!==n&&n,o=e.isMoveToSavedForLaterCart,s=void 0!==o&&o,c=e.isPrimaryCart,u=void 0===c||c,l=e.mutatePrimaryCart,v=e.mutateSavedForLaterCart,m=e.primaryCart,f=e.savedForLaterCart,p=e.withDialog,S=void 0===p||p,b=e.licenseId,g=e.licensePrice,O=e.pageSection,P=e.listId;C(t),L(u),k(O),_(r),A(P),a&&y(a),i?E({itemsToMove:t,primaryCart:m,mutatePrimaryCart:l,mutateSavedForLaterCart:v}):s?R({itemsToMove:t,primaryCart:m,savedForLaterCart:f,mutatePrimaryCart:l,mutateSavedForLaterCart:v}):S?d(!0):V({assets:t,eventLabel:r,cart:m,licenseId:b,licensePrice:g,mutateCart:l,pageSection:O})}),[V,E,R]);return{addToCartViewsProps:U,addToCartViewsHandler:G,AddToCartViews:b}}},28411:function(e,t,r){r.d(t,{k:function(){return d}});var a=r(17674),n=r(11163),i=r(67294),o=r(71370),s=r(64918),c=r(69648),u=r(53342),d=function(){var e=(0,s.D)().isBrandSstk,t=(0,n.useRouter)(),r=(0,c.B)(),d=(0,u.j)({isLoggedInUser:r,isBrandSstk:e});return(0,i.useMemo)((function(){var r=(0,a.Z)(d,1)[0];return e?(0,o.DW)({language:t.locale,relativePath:r}):r}),[d,e,t])}},41055:function(e,t,r){r.d(t,{W:function(){return s}});var a=r(11163),n=r(67294),i=r(64918),o=r(28411),s=function(){var e=(0,o.k)(),t=(0,i.D)().isBrandSstk,r=(0,a.useRouter)();return(0,n.useCallback)((function(){t?window.location.href=e:r.push(e)}),[e,t,r])}},53342:function(e,t,r){r.d(t,{A:function(){return p},j:function(){return f}});var a,n=r(59499),i=r(11987),o=r.n(i),s=r(45446),c=r(41820),u="cart",d="content-license",l="ecomm-logged-in",v="success",m=(0,n.Z)({},u,(a={},(0,n.Z)(a,c.Dx,s.Is),(0,n.Z)(a,l,s.nK),(0,n.Z)(a,d,(0,n.Z)({},v,"".concat(s.Is,"/").concat(d,"/").concat(v))),a)),f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isLoggedInUser,r=e.isBrandSstk,a=m.cart[t&&r?l:c.Dx];return[a,a]},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o().format({pathname:m.cart[d].success,query:e});return[t,t]}}}]);