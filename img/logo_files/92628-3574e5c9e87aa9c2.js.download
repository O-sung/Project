"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[92628],{79138:function(e,n,i){i.d(n,{Bg:function(){return p},Mq:function(){return _},Oy:function(){return b},Q1:function(){return y},c3:function(){return d},kR:function(){return v},nd:function(){return m},wb:function(){return T}});var t,r,o,s=i(59499),c=i(703),u=i(43257);function a(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function l(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?a(Object(i),!0).forEach((function(n){(0,s.Z)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var m=(t={},(0,s.Z)(t,c._0,{quality:1,name:"small",downloadName:"small",label:"common:image_size_small"}),(0,s.Z)(t,c.Ke,{quality:1,name:"small",downloadName:"small",label:"common:image_size_small"}),(0,s.Z)(t,c.m4,{quality:2,name:"medium",downloadName:"medium",label:"common:image_size_medium"}),(0,s.Z)(t,c.Fq,{quality:2,name:"medium",downloadName:"medium",label:"common:image_size_medium"}),(0,s.Z)(t,c.v2,{quality:3,displayName:"large",name:"large",downloadName:"huge",label:"common:image_size_large"}),(0,s.Z)(t,c.R7,{quality:3,name:"large",downloadName:"huge",label:"common:image_size_large"}),(0,s.Z)(t,c.x0,{quality:4,name:"vector",downloadName:"vector",label:"common:image_size_vector"}),(0,s.Z)(t,c.Vw,{quality:4,name:"vector",downloadName:"vector",label:"common:image_size_vector"}),(0,s.Z)(t,c.JF,{quality:3,name:"large",downloadName:"large",label:"common:image_size_large"}),t),p=(r={},(0,s.Z)(r,c.Xk,c.v2),(0,s.Z)(r,c.Fm,c.v2),(0,s.Z)(r,c._I,c._0),(0,s.Z)(r,c.Nu,c._0),r),d={lowres:{name:"low",quality:1,cartOrder:4,label:"common:resolutions_low"},lowresMpeg:{name:"low",quality:1,cartOrder:4,label:"common:resolutions_low"},lowresOriginal:{name:"low",quality:1,cartOrder:4,label:"common:resolutions_low"},low:{name:"low",quality:1,cartOrder:4,label:"common:resolutions_low"},web:{name:"low",quality:1,cartOrder:4,label:"common:resolutions_low"},sd:{name:"sd",quality:2,cartOrder:2,label:"common:resolutions_sd"},sdMpeg:{name:"sd",quality:2,cartOrder:2,label:"common:resolutions_sd"},sdOriginal:{name:"sd",quality:2,cartOrder:2,label:"common:resolutions_sd"},nonhd:{name:"sd",quality:2,cartOrder:2,label:"common:resolutions_sd"},hd:{name:"hd",quality:3,cartOrder:1,label:"common:resolutions_hd"},hdMpeg:{name:"hd",quality:3,cartOrder:1,label:"common:resolutions_hd"},hdOriginal:{name:"hd",quality:3,cartOrder:1,label:"common:resolutions_hd"},"4k":{name:"4k",quality:4,cartOrder:3,label:"common:resolutions_4k"},"4K":{name:"4k",quality:4,cartOrder:3,label:"common:resolutions_4k"},ultrahd4k:{name:"4k",quality:4,cartOrder:3,label:"common:resolutions_4k"},ultrahd4KOriginal:{name:"4k",quality:4,cartOrder:3,label:"common:resolutions_4k"}},b={LEGACY_TO_SSTK:{ultrahd4k:"4k",web:"low",lowres:"low"},SSTK_TO_LEGACY:{low:"web","4k":"ultrahd4k"},SSTK_TO_LEGACY_ELIGIBILTY:l(l({},{low:"lowres"}),{},{"4k":"ultrahd4k"})},f=(l(l({},d),{},{select:{name:"select",quality:5,label:"common:resolutions_select"}}),function(e){var n,i=e.licenseType,t=e.isOnlySDVideoAvailable;return n={},(0,s.Z)(n,"footage_".concat(i,"_4k"),c.yF),(0,s.Z)(n,"footage_".concat(i,"_hd"),t?c.SD:c.HD),(0,s.Z)(n,"footage_".concat(i,"_sd"),c.SD),(0,s.Z)(n,"footage_".concat(i,"_lowres"),c.T0),n}),v=u.oP.reduce((function(e,n){return l(l({},e),f({licenseType:n}))}),{}),y=u.oP.reduce((function(e,n){return l(l({},e),f({licenseType:n,isOnlySDVideoAvailable:!0}))}),{}),T=(o={},(0,s.Z)(o,c.yF,c.yF),(0,s.Z)(o,c.HD,c.HD),(0,s.Z)(o,c.SD,c.SD),(0,s.Z)(o,c.qY,c.qY),(0,s.Z)(o,c.qG,c.yF),(0,s.Z)(o,c.dn,c.HD),(0,s.Z)(o,c.rf,c.SD),(0,s.Z)(o,c.Zh,c.qY),(0,s.Z)(o,c.L0,c.HD),(0,s.Z)(o,c.Ae,c.SD),(0,s.Z)(o,c.vD,c.HD),(0,s.Z)(o,c.yE,c.qY),o),_=[c.yF,c.HD,c.SD,c.yE,c.qY,c.qG,c.dn,c.rf,c.Zh,c.L0,c.Ae,c.vD].reduce((function(e,n){return l(l({},e),{},(0,s.Z)({},n,function(e){var n,i=e.resolutionAbbr;return n={},(0,s.Z)(n,u.az,"footage_premier_".concat(i)),(0,s.Z)(n,u.dH,"footage_platform_".concat(i)),(0,s.Z)(n,u.dW,"footage_media_".concat(i)),(0,s.Z)(n,u.Iu,"footage_sm_premier_".concat(i)),(0,s.Z)(n,u.CS,"footage_sm_media_".concat(i)),(0,s.Z)(n,u.s5,"footage_select_premier_".concat(i)),(0,s.Z)(n,u.Hv,"footage_select_media_".concat(i)),(0,s.Z)(n,u.TP,"footage_comp_".concat(i)),n}({resolutionAbbr:T[n]})))}),{})},92628:function(e,n,i){i.d(n,{$L:function(){return k},Aw:function(){return N},E3:function(){return P},I9:function(){return Y},Im:function(){return C},Ip:function(){return O},U:function(){return H},XI:function(){return S},ar:function(){return E},cr:function(){return A},eL:function(){return x},hD:function(){return j},ky:function(){return F},lc:function(){return R},nj:function(){return L},q1:function(){return D},qY:function(){return g},rZ:function(){return w},vq:function(){return _}});var t=i(90116),r=i(59499),o=i(17674),s=i(93158),c=i(703),u=i(95944),a=i(8544),l=i(43257),m=i(81906),p=i(24775),d=i(9391),b=i(25021),f=i(79138),v=i(43788);function y(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function T(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?y(Object(i),!0).forEach((function(n){(0,r.Z)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):y(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var _=function(e){var n=e.licenseName;return l.b5.includes(n)},g=function(e){var n,i,t=e.subscription;return!!(null!==t&&void 0!==t&&t.isUnlimited||null!==t&&void 0!==t&&null!==(n=t.currentLicenses)&&void 0!==n&&null!==(i=n[0])&&void 0!==i&&i.isUnlimited)},O=function(e){var n,i,t,r=e.subscription,o=null===r||void 0===r||null===(n=r.currentAllotments)||void 0===n?void 0:n.length;return null===r||void 0===r||null===(i=r.currentAllotments)||void 0===i||null===(t=i[o-1])||void 0===t?void 0:t.creditsRemaining},w=function(e){var n=e.subscription,i=O({subscription:n});return null===i||i>0},h=function(e){var n=e.priceType,i=e.price,t=e.currency;return e.activityTracking===m.nm&&n===m.vh?{priceAsAbsolute:{price:i,priceType:m.Br,currency:t}}:{}},Z=function(e){var n=e.subscription,i=e.assetTypeFromSubscription;return i===u.xF&&g({subscription:n})?"".concat(i).concat((0,d.ZV)(u.q9)):i},S=function(e){var n=e.subscription,i=n.creditPrice,t=n.creditType,r=n.creditCurrency,s=n.currentLicenses,c=n.redeemableFor,u=n.product,l=n.type,p=r||(null===u||void 0===u?void 0:u.currency),d=m.bW[l],b=((null===s||void 0===s?void 0:s.find((function(e){return e.redeemableFor===c})))||{}).creditPriceComponents,f=m.iN[d];return b&&f?Object.entries(b.contentTier).reduce((function(e,i){var t,r=(0,o.Z)(i,2),s=r[0],c=r[1],u=c.amount,a=c.amountType,l=void 0===a?m.Zm:a,d=Number(s);return e.push(T({currency:p,subscriptionType:Z({subscription:n,assetTypeFromSubscription:f[s]}),price:u,contentTier:d,priceType:l},h({priceType:null!==(t=n.creditType)&&void 0!==t?t:l,price:n.creditPrice,currency:p,activityTracking:n.activityTracking}))),e}),[]):[{subscriptionType:Z({subscription:n,assetTypeFromSubscription:d}),currency:p,price:i,priceType:t||m.Zm,contentTier:a.E2}]},q=function(e){var n=e.subscriptions,i=e.contentTier,t=e.musicInfo;return null===n||void 0===n?void 0:n.map((function(e){var n,r;return null!==e&&void 0!==e&&null!==(n=e.currentLicenses)&&void 0!==n&&n.length?i?function(e){var n=e.subscription,i=e.mediaContentTier,t=e.musicInfo,r=n.activityTracking,o=n.currentLicenses,s=n.creditPrice,c=n.creditType,u=S({subscription:n}),a=(0,p.Ow)({prices:u,mediaContentTier:i,creditPrice:s,creditType:c}),l=a.price,m=a.priceType,d=a.currency,b=o.filter((function(e){var n=e.maxContentTier,r=e.isUnlimited;return(0,p.yR)({assetContentTier:i,subscriptionMaxContentTier:n,musicInfo:T(T({},t),{},{isUnlimited:r})})}));return T(T({},n),{},{currentLicenses:b,creditPrice:l,creditType:m},h({priceType:null!==c&&void 0!==c?c:m,price:s,currency:d,activityTracking:r}))}({subscription:e,mediaContentTier:i,musicInfo:t}):function(e){var n,i,t=e.subscription,r=null===(n=t.currentLicenses[0].creditPriceComponents)||void 0===n?void 0:n.contentTier,s=r?Object.entries(r)[0]:[{},{}],c=(0,o.Z)(s,2)[1].amountType;return T(T({},t),h({priceType:null!==(i=t.creditType)&&void 0!==i?i:c,price:t.creditPrice,currency:t.creditCurrency,activityTracking:t.activityTracking}))}({subscription:e}):T({creditType:null!==(r=null===e||void 0===e?void 0:e.creditType)&&void 0!==r?r:m.Zm},e)}))},C=function(e){var n=e.subscriptions,i=e.licenseName,t=i?null===n||void 0===n?void 0:n.filter((function(e){var n=e.redeemableFor;return null!==i&&void 0!==i&&i.includes("_unlimited")?n===i:n==="".concat(i,"_unlimited")})):n;return!(null===t||void 0===t||!t.some((function(e){var n=e.currentLicenses;return null===n||void 0===n?void 0:n.some((function(e){return!!e.isUnlimited}))})))},k=function(e){var n,i,t,r=e.assetType,o=e.subscriptions,s=e.licenseName,c=e.contentTier,a=null===o||void 0===o||null===(n=o.filter((function(e){var n=e.license,i=e.redeemableFor,t=e.name;return n===s||i===s||t===s})))||void 0===n||null===(i=n.sort((function(e,n){return new Date(e.subscriptionExpiration).getTime()-new Date(n.subscriptionExpiration).getTime()})))||void 0===i?void 0:i.map((function(e){return(0,v.TR)({subscription:e,assetType:r})})),l=r===u.xF,d={isMusic:l,isUnlimitedSubscriptionAvailable:l&&C({subscriptions:o,licenseName:s})},b=c?function(e){var n=e.subscriptions,i=e.contentTier,t=e.musicInfo;return(null===n||void 0===n?void 0:n.filter((function(e){var n=e.currentLicenses;return null===n||void 0===n?void 0:n.find((function(e){var n=e.maxContentTier,r=e.isUnlimited;return(0,p.yR)({assetContentTier:i,subscriptionMaxContentTier:n,musicInfo:T(T({},t),{},{isUnlimited:r})})}))})))||[]}({subscriptions:a,contentTier:c,musicInfo:d}):a,f=q({subscriptions:b,contentTier:c,musicInfo:d});return null!==b&&void 0!==b&&b[0]&&(t=T({creditType:m.Zm},null===b||void 0===b?void 0:b[0])),(null===f||void 0===f?void 0:f.find((function(e){return w({subscription:e})})))||t},A=function(e){var n=e.subscriptions,i=void 0===n?[]:n,r=e.contentTier,o=e.assetType;return function(e){return e.sort((function(e,n){return n.creditPrice-e.creditPrice}))}(i.reduce((function(e,n){var s=n.redeemableFor||n.name,c=k({subscriptions:i,licenseName:s,contentTier:r,assetType:o});return c?function(e){var n=e.subscriptionToUse,i=e.licenseName,t=null===n||void 0===n?void 0:n.currentLicenses;return!!t&&t.length&&!(null!==t&&void 0!==t&&t.find((function(e){return e.redeemableFor===i.replace("/_unlimited/","")})))}({subscriptionToUse:c,licenseName:s})||function(e){var n=e.item;return e.uniqueSubsAcc.find((function(e){var i=e.redeemableFor,t=e.name;return n.redeemableFor===i||n.name&&n.name===t}))}({item:n,uniqueSubsAcc:e})?e:[].concat((0,t.Z)(e),[c]):e}),[]))},D=function(e){var n=e.assets,i=void 0===n?[]:n;return(0,b.N3)(null===i||void 0===i?void 0:i[0])?u.nX:(0,b.so)(null===i||void 0===i?void 0:i[0])?u.A7:(0,b.vV)(null===i||void 0===i?void 0:i[0])?u.ox:(0,b.Tp)(null===i||void 0===i?void 0:i[0])},N=function(e){var n=e.assetType,i=e.contentTier,t=e.subscriptions;if(!t||!n)return[];switch(n){case u.nX:return{compSubscriptions:t.editorialImageCompSubscriptions,subscriptions:A({assetType:n,subscriptions:t.editorialImageSubscriptions,contentTier:i})};case u.A7:return{compSubscriptions:t.editorialVideoCompSubscriptions,subscriptions:A({assetType:n,subscriptions:t.editorialVideoSubscriptions,contentTier:i})};case u.pX:return{compSubscriptions:t.videoCompSubscriptions,subscriptions:A({assetType:n,subscriptions:t.videoSubscriptions,contentTier:i})};case u.xF:case u.j0:return{compSubscriptions:t.musicCompSubscriptions,subscriptions:A({assetType:n,subscriptions:t.musicSubscriptions,contentTier:i})};case u.k4:default:return{compSubscriptions:t.imageCompSubscriptions,subscriptions:A({assetType:n,subscriptions:t.imageSubscriptions,contentTier:i})}}},P=function(e){var n=e.assetType,i=e.subscriptions,t=N({assetType:n,subscriptions:i});return(null===t||void 0===t?void 0:t.subscriptions)||[]},j=function(e){var n,i=e.asset,t=e.subscriptions,r=D({assets:[i]}),o=null===(n=N({assetType:r,subscriptions:t}))||void 0===n?void 0:n.compSubscriptions;return t&&(null===o||void 0===o?void 0:o.some((function(e){return w({subscription:e})})))},I=function(e){var n=e.acc,i=e.totalCostOfItems,t=e.amountRemaining,r=e.totalAmount;return i>t&&(n.hasInsufficientSubscriptionCredits=!0,n.hasLowDebitableBalance=!1,n.insufficientAmount=i-t),!n.hasInsufficientSubscriptionCredits&&t<=.05*r&&(n.hasLowDebitableBalance=!0),n},L=function(e){var n=e.items,i=e.subscriptions,t=e.subscription;if(n&&n.length)return n.reduce((function(e,n){var r,o=n.licenseId,s=n.price,c=D({assets:[n]}),u=t||k({subscriptions:null===(r=N({assetType:c,subscriptions:i}))||void 0===r?void 0:r.subscriptions,selectedLicenseId:o,assetType:c})||{},a=(0,v.Vp)(u),l=a.totalAmount,p=a.amountRemaining,d=a.amountType,b=a.amount;e.amountType=d;var f=parseFloat(s),y=parseFloat(e.total)+f;if(e.total+=f,d===m.vh){var T=parseFloat(b),_=parseFloat(e.totalCreditAmount)+T;return e.totalCreditAmount+=T,I({acc:e,totalCostOfItems:_,amountRemaining:p,totalAmount:l})}return I({acc:e,totalCostOfItems:y,amountRemaining:p,totalAmount:l})}),{hasInsufficientSubscriptionCredits:!1,hasLowDebitableBalance:!1,insufficientAmount:0,total:0,totalCreditAmount:0,amountType:m.Zm});var r=i||{},o=Object.keys(r).find((function(e){return Array.isArray(r[e])&&r[e].length})),s=(0,v.bC)({subscriptions:r[o]||[]})[0]||{},c=(0,v.Vp)(s),u=c.totalAmount,a=c.amountRemaining;return{amountType:c.amountType,hasInsufficientSubscriptionCredits:!1,hasLowDebitableBalance:a<=.05*u,insufficientAmount:null}},F=function(e){var n,i=e.items,t=e.isLoading,r=e.subscription,o=e.subscriptions,s=e.userCapabilities;return t?{}:(r&&(n=r.creditType),o&&o.length>0&&(n=o[0].creditType),(0,v.Kc)({userCapabilities:s})?L({items:i,subscription:r,subscriptions:o}):{amountType:n||m.Zm,hasLowDebitableBalance:!1,hasInsufficientSubscriptionCredits:!(!r||0!==O({subscription:r})),insufficientAmount:null})},E=function(e){var n,i,t=e.subscriptions,r=e.asset,o=Object.values((null===r||void 0===r||null===(n=r.metadata)||void 0===n||null===(i=n.cart)||void 0===i?void 0:i.sizes)||r.sizes||{}),s=(0,b.$Q)({sizes:o});return null===t||void 0===t?void 0:t.filter((function(e){var n=e.redeemableFor,i=s?f.Q1[n]:f.kR[n];return null===o||void 0===o?void 0:o.some((function(e){var n=e.resolution,t=e.name;return f.wb[n]===i||f.wb[t]===i||i===c.T0&&f.wb[n]===c.qY}))}))},U=function(e){var n,i=e.licenses,t=e.subscriptions;return i.some((function(e){return n=k({subscriptions:t,licenseName:e,assetType:u.pX})})),n},z=function(e){var n=e.licenseType,i=e.licenseName,t=e.subscriptions;return i==="footage_".concat(n,"_sd")?U({licenses:["footage_".concat(n,"_sd"),"footage_".concat(n,"_hd")],subscriptions:t}):i==="footage_".concat(n,"_lowres")?U({licenses:["footage_".concat(n,"_lowres")],subscriptions:t}):void 0},x=function(e){var n=e.subscriptions,i=e.licenseName,t=u.pX;if([l.Mb,l.G,l.mf,l.vb,l.Dh,l.SP,l.a9,l.y2,l.v1,l.KK,l.mJ,l.Wd].some((function(e){return e===i})))return k({subscriptions:n,licenseName:i,assetType:t});if(l.Lj.some((function(e){return e===i})))return k({subscriptions:n,licenseName:i,assetType:t});if([l.f1,l.Oy,l.JC,l.TL].some((function(e){return e===i})))return k({subscriptions:n,licenseName:l.f1,assetType:t});var r=z({licenseType:l.bi,licenseName:i,subscriptions:n}),o=z({licenseType:l.Ee,licenseName:i,subscriptions:n}),s=z({licenseType:l.pH,licenseName:i,subscriptions:n}),c=z({licenseType:l.wO,licenseName:i,subscriptions:n});return r||o||s||c||void 0},R=function(e){var n=e.subscriptions,i=e.assetType;return null===n||void 0===n?void 0:n.some((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.product,t=(n=void 0===n?{}:n).status,r=n.businessUnit,o=n.name;return t===m.PP&&(i===u.tn?s.LY.includes(o):r===i)}))},Y=function(e){var n=e.assetType,i=e.contentTier,t=e.subscriptions,r=e.selectedLicenseId;switch(n){case u.pX:return x({licenseName:r,subscriptions:t});case u.j0:case u.xF:case u.tn:case u.k4:default:return k({subscriptions:t,licenseName:r,contentTier:i,assetType:n})}},H=function(e){var n=e.uniqueSubscription;if(!n)return{};var i=n.priceAsAbsolute,t=n.creditCurrency,r=n.product,o=g({subscription:n}),s=t||(null===r||void 0===r?void 0:r.currency);if(!i){var c=n.creditPrice,u=n.creditType,a=void 0===u?m.Zm:u;return{price:"".concat((0,b.lO)({price:c,isUnlimited:o})),priceType:a,currency:s}}var l=i.price,p=i.priceType;return{price:"".concat((0,b.lO)({price:l,isUnlimited:o})),priceType:p,currency:s}}}}]);